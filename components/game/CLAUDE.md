# components/game - æ¸¸æˆæ ¸å¿ƒç»„ä»¶ (L2)

> çˆ¶çº§: [/CLAUDE.md](../../CLAUDE.md)
> æœ€åæ›´æ–°: 2026-01-31

---

## ğŸ“ æ¨¡å—å®šä½

æ¸¸æˆçš„ UI å±‚ï¼Œè´Ÿè´£æ¸²æŸ“æ¸¸æˆç•Œé¢ã€å¤„ç†ç”¨æˆ·äº¤äº’ã€æ’­æ”¾åŠ¨ç”»ã€‚

**è¾¹ç•Œ**: åªè´Ÿè´£å±•ç¤ºå’Œäº¤äº’ï¼Œä¸è´Ÿè´£æ¸¸æˆé€»è¾‘ï¼ˆé€»è¾‘åœ¨ `hooks/use-game.ts`ï¼‰

---

## ğŸ“ æˆå‘˜æ¸…å•

| æ–‡ä»¶ | èŒè´£ | è¾¹ç•Œ |
|------|------|------|
| `game-container.tsx` | çŠ¶æ€è·¯ç”±å™¨ | æ ¹æ® game.runState åˆ‡æ¢é¡µé¢ |
| `game-start.tsx` | å¼€å§‹é¡µ | æ¨¡å¼/éš¾åº¦é€‰æ‹© UI |
| `game-hud.tsx` | çŠ¶æ€æ  | åˆ†æ•°/è¿å‡»/é€Ÿåº¦æ˜Ÿ/æŠ¤ç›¾æ˜¾ç¤º |
| `question-card.tsx` | ç­”é¢˜å¡ | é¢˜ç›®å±•ç¤º + è¾“å…¥ + åŠ¨ç”» |
| `game-results.tsx` | ç»“æœé¡µ | ç»Ÿè®¡ + é”™é¢˜å›é¡¾ |
| `animations.tsx` | åŠ¨ç”»ç»„ä»¶ | å¯å¤ç”¨åŠ¨ç”»ï¼ˆå¤‡ç”¨ï¼‰ |

---

## ğŸ”Œ æš´éœ²æ¥å£

```typescript
// game-container.tsx
export function GameContainer(): JSX.Element
// å…¥å£ç»„ä»¶ï¼Œè¢« app/page.tsx æ¶ˆè´¹

// å…¶ä»–ç»„ä»¶å‡ä¸ºå†…éƒ¨ç»„ä»¶ï¼Œä¸å¯¹å¤–æš´éœ²
```

---

## ğŸ“Š æ•°æ®æµ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ GameContainer                                           â”‚
â”‚                                                         â”‚
â”‚   useGame() â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚       â”‚                                              â”‚  â”‚
â”‚       â–¼                                              â”‚  â”‚
â”‚   game === null ? â”€â”€â–º GameStart                      â”‚  â”‚
â”‚       â”‚                    â”‚                         â”‚  â”‚
â”‚       â”‚              onStart(mode, difficulty)       â”‚  â”‚
â”‚       â”‚                    â”‚                         â”‚  â”‚
â”‚       â–¼                    â–¼                         â”‚  â”‚
â”‚   game.runState                                      â”‚  â”‚
â”‚       â”‚                                              â”‚  â”‚
â”‚   'playing' â”€â”€â”€â”€â”€â”€â–º GameHud + QuestionCard           â”‚  â”‚
â”‚       â”‚                    â”‚                         â”‚  â”‚
â”‚       â”‚              onSubmit / onNext / onRetry     â”‚  â”‚
â”‚       â”‚                    â”‚                         â”‚  â”‚
â”‚   'finished' â”€â”€â”€â”€â”€â–º GameResults                      â”‚  â”‚
â”‚                          â”‚                           â”‚  â”‚
â”‚                    onPlayAgain / onHome              â”‚  â”‚
â”‚                          â”‚                           â”‚  â”‚
â”‚                          â–¼                           â”‚  â”‚
â”‚                    startGame() / resetGame()         â”‚  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¬ åŠ¨ç”»ç³»ç»Ÿ

ä½ç½®: `question-card.tsx` å†…è”å®šä¹‰

| åŠ¨ç”»ç»„ä»¶ | è§¦å‘æ¡ä»¶ | æ•ˆæœ |
|----------|----------|------|
| `CorrectAnimation` | ç­”å¯¹åé¢˜ç›®åˆ‡æ¢ | ç»¿è‰²å¯¹å‹¾ + ç²’å­æ”¾å°„ |
| `ComboAnimation` | combo â‰¥ 2 | ç«ç„° + "Xè¿å‡»!" |
| `SpeedStarAnimation` | å¿«é€Ÿç­”å¯¹ | æ—‹è½¬æ˜Ÿæ˜Ÿ + "å¿«!" |
| `ScorePopAnimation` | å¾—åˆ†æ—¶ | åˆ†æ•°å‘ä¸Šé£˜å‡º |
| `ShieldActiveAnimation` | æŠ¤ç›¾æ¿€æ´» | è“è‰²å…‰ç¯ + æ–‡å­— |

**åŠ¨ç”»è§„åˆ™**:
- Spring åŠ¨ç”»åªæ”¯æŒ 2 å¸§ï¼Œå¤šå¸§å¿…é¡»ç”¨ `ease: "easeOut"`
- åŠ¨ç”»æ—¶é•¿æ§åˆ¶åœ¨ 0.3-0.8s
- åŠ¨ç”»ä¸é˜»å¡äº¤äº’

---

## âš ï¸ "use client" æˆæœ¬è¯´æ˜

æœ¬æ¨¡å—æ‰€æœ‰ç»„ä»¶éƒ½æ˜¯ Client Componentsï¼ŒåŸå› ï¼š

| ç»„ä»¶ | å¿…é¡» use client çš„åŸå›  |
|------|------------------------|
| game-container | æ¶ˆè´¹ useGame() hook |
| game-start | useState ç®¡ç†é€‰ä¸­çŠ¶æ€ |
| game-hud | å®æ—¶æ˜¾ç¤ºæ¸¸æˆçŠ¶æ€ |
| question-card | ç”¨æˆ·äº¤äº’ + åŠ¨ç”» + éŸ³æ•ˆ |
| game-results | åŠ¨ç”» + äº¤äº’ |

**ä¼˜åŒ–ç©ºé—´**: 
- GameStart çš„æ¨¡å¼/éš¾åº¦é…ç½®å¯æŠ½åˆ° Server Component
- ä½†æ”¶ç›Šæœ‰é™ï¼Œæš‚ä¸ä¼˜åŒ–

---

## ğŸ”— ä¾èµ–å…³ç³»

```
components/game/*
    â”œâ”€â”€ ä¾èµ– hooks/use-game.ts (çŠ¶æ€ + æ–¹æ³•)
    â”œâ”€â”€ ä¾èµ– lib/game-types.ts (ç±»å‹ + é…ç½®)
    â”œâ”€â”€ ä¾èµ– components/ui/* (shadcn ç»„ä»¶)
    â””â”€â”€ ä¾èµ– framer-motion (åŠ¨ç”»)
```

---

## ğŸ“‹ å˜æ›´æ—¥å¿—

| æ—¥æœŸ | å˜æ›´ | æ–‡ä»¶ |
|------|------|------|
| 2026-01-31 | æ·»åŠ  Framer Motion åŠ¨ç”» | question-card.tsx, game-hud.tsx, game-results.tsx |
| 2026-01-31 | ä¸­æ–‡åŒ–æ‰€æœ‰æ–‡æœ¬ | å…¨éƒ¨ |
| 2026-01-31 | åˆ›å»ºæ¨¡å—æ–‡æ¡£ | CLAUDE.md |

---

[PROTOCOL]: å˜æ›´æ—¶æ›´æ–°æ­¤æ–‡æ¡£ï¼Œç„¶åæ£€æŸ¥ /CLAUDE.md
